<?xml version="1.0" encoding="UTF-8" ?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:jee="http://www.springframework.org/schema/jee" xmlns:p="http://www.springframework.org/schema/p"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/tx
        http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee.xsd">
	
	
	<!-- Message Sources -->
	<bean id="logMessageSource" class="ru.acs.fts.aud.router.processing.AudMessageSource" >
		<property name="patterns" >
			<map>
				<entry key="LOG-COMMON-1000" value="Запрос получен." />

				<entry key="LOG-COMMON-1001" value="Запрос обработан. Результат обработки: {0}." />
				<entry key="LOG-COMMON-1002" value="Сообщение не прошло валидацию по xsd-схемам. DocunentKind={0} DocumentID={1}" />
				
				<entry key="LOG-DOCUMENT-1001" value="Извлечение документа" />
				
				<!-- AUD.PUT_DOC.REQ -->
				<entry key="LOG-PUT_DOC-1000" value="Прикладной идентификатор пакета: {0}. Описание пакета: {1}." />
				<entry key="LOG-PUT_DOC-1001" value="Прикладной идентификатор размещаемого документа: {0}. Описание документа: {1}. Вид документа: {2}. Версия вида документа: {3}." />
				<entry key="LOG-PUT_DOC-1002" value="Прикладной идентификатор размещаемого документа: {0}. Описание документа: {1}. Вид документа: {2}. Версия вида документа: {3}. Идентификатор цепочки версий: {4}." />
				<entry key="LOG-PUT_DOC-1003" value="Прикладной идентификатор размещаемого вложенного документа №{0}: {1}. Описание документа: {2}." />
				<entry key="LOG-PUT_DOC-1004" value="Прикладной идентификатор размещаемого вложенного документа №{0}: {1}. Описание документа: {2}. Идентификатор цепочки версий: {3}." />
				<entry key="LOG-PUT_DOC-1005" value="Прикладной идентификатор размещаемого документа: {0}. Результат обработки: {1}. Присвоенный архивный идентификатор документа: {2}." />
				<entry key="LOG-PUT_DOC-1006" value="Прикладной идентификатор размещаемого документа: {0}. Результат обработки: {1}. Присвоенный архивный идентификатор документа: {2}. Номер версии документа: {3}." />
				<entry key="LOG-PUT_DOC-1007" value="Прикладной идентификатор размещаемого вложенного документа №{0}: {1}. Результат обработки: {2}. Присвоенный архивный идентификатор документа: {3}." />
				<entry key="LOG-PUT_DOC-1008" value="Прикладной идентификатор размещаемого вложенного документа №{0}: {1}. Результат обработки: {2}. Присвоенный архивный идентификатор документа: {3}; номер версии документа: {4}." />
				<entry key="LOG-PUT_DOC-1009" value="В центральный архив отправлено синхронизирующее сообщение" />
				
				<!-- AUD.GET_DOC.REQ -->
				<entry key="LOG-GET_DOC-1000" value="Архивный идентификатор документа: {0}." />
				
				<!-- AUD.GET_PACKET.REQ -->
				<entry key="LOG-GET_PACKET-1000" value="Прикладной идентификатор пакета документов: {0}." />
				<entry key="LOG-GET_PACKET-1001" value="Архивный идентификатор пакета документов: {0}." />
				<entry key="LOG-GET_PACKET-1002" value="Пакет документов по номеру ГТД: Код таможни {0}; Дата регистрации {1} ; Регистрационный номер ГТД {2}." />
				
				<!-- AUD.RESULT.REQ -->
				<entry key="LOG-RESULT-1000" value="Идентификатор технологического документа, результат обработки которого запрашивается: {0}." />
				
				<!-- AUD.GET_RPSNT.REQ -->
				<entry key="LOG-GET_RPSNT-1000" value="Вид документов: {0}. Версия вида документов: {1}. Вид представления: {2}." />
				
				<!-- AUD.PUT_DOC_SYNC.RES -->
				<entry key="LOG-PUT_DOC_SYNC-1000" value="Синхронизационное сообщение обработано." />
				
				<!-- Admin Processes -->
				<entry key="LOG-CONTROL_PROCESS-1000" value="Запущен процесс контроля целостности архива." />
				<entry key="LOG-CONTROL_PROCESS-1001" value="Запущен процесс контроля сроков хранения." />
				<entry key="LOG-CONTROL_PROCESS-1002" value="Запущен процесс уничтожения документов." />
				<entry key="LOG-CONTROL_PROCESS-1003" value="Запущен процесс экспертизы ценности." />
				<entry key="LOG-CONTROL_PROCESS-1100" value="Процесс контроля целостности архива успешно завершен" />
				<entry key="LOG-CONTROL_PROCESS-1101" value="Процесс контроля сроков хранения успешно завершен" />
				<entry key="LOG-CONTROL_PROCESS-1102" value="Процесс уничтожения документов успешно завершен" />
				<entry key="LOG-CONTROL_PROCESS-1103" value="Процесс экспертизы ценности успешно завершен" />
				<entry key="LOG-CONTROL_PROCESS-1200" value="Выполнение процедуры контроля целостности завершено успешно. Итоговые результаты выполнения процедуры. Документов проверено: {0}. Документов, у которых выявлено нарушение целостности: {1}." />
				<entry key="LOG-CONTROL_PROCESS-1201" value="Выполнение процедуры контроля сроков хранения завершено успешно. Итоговые результаты выполнения процедуры. Документов проверено: {0}. Документов с истекшим сроком хранения: {1}. Документов выявленных к уничтожению: {2}. Документов уничтоженных: {3}." />
				<entry key="LOG-CONTROL_PROCESS-1202" value="Выполнение процедуры уничтожения документов завершено успешно. Итоговые результаты выполнения процедуры. Документов выявленных к уничтожению: {0}. Документов уничтоженных: {1}." />
				<entry key="LOG-CONTROL_PROCESS-1203" value="Выполнение процедуры экспертизы ценности завершено успешно. Итоговые результаты выполнения процедуры. Документов выявленных к изменению: {0}. Документов измененных: {1}." />
				<entry key="LOG-CONTROL_PROCESS-1300" value="Выполнение процедуры контроля целостности прервано. Промежуточные результаты выполнения процедуры. Документов проверено: {0}. Документов, у которых выявлено нарушение целостности: {1}." />
				<entry key="LOG-CONTROL_PROCESS-1301" value="Выполнение процедуры контроля сроков хранения прервано. Промежуточные результаты выполнения процедуры. Документов проверено: {0}. Документов с истекшим сроком хранения: {1}. Документов выявленных к уничтожению: {2}. Документов уничтоженных: {3}." />
				<entry key="LOG-CONTROL_PROCESS-1302" value="Выполнение процедуры уничтожения документов прервано. Промежуточные результаты выполнения процедуры. Документов выявленных к уничтожению: {0}. Документов уничтоженных: {1}." />
				<entry key="LOG-CONTROL_PROCESS-1303" value="Выполнение процедуры экспертизы ценности прервано. Промежуточные результаты выполнения процедуры. Документов выявленных к изменению: {0}. Документов измененных: {1}." />
				
				<entry key="LOG-REGISTRATION-1001" value="Ошибка при автосоздании версии вида документов. Версия вида документов ''{0}'' с идентификатором ''{1}'' уже существует" />
				<entry key="LOG-REGISTRATION-1002" value="Стартовал процесс автосоздания версий видов документов" />
				<entry key="LOG-REGISTRATION-1003" value="Процесс автосоздания версий видов документов успешно завершен" />
				<entry key="LOG-REGISTRATION-1004" value="Процесс автосоздания версий видов документов завершен с ошибкой ''{0}''" />
				
				<entry key="LOG-TEST" value="Тестовое сообщение с параметром {0}" />
			</map>
		</property>
	</bean>
	
	<bean id="errorMessageSource" class="ru.acs.fts.aud.router.processing.AudMessageSource" >
		<property name="patterns" >
			<map>
				<entry key="SUCCESS" value="Документ обработан без ошибок" />
				
				<entry key="ERROR-CONF-1000" value="В конфигурации не указано ни одного крипто-сервера" />
				<entry key="ERROR-CONF-1001" value="Невозможно получить конфигурацию из JNDI по причине {0}" />
				<entry key="ERROR-CONF-1002" value="Ошибка при обработке данных во время сохранения конфигурации в JNDI по причине {0}" />
				<entry key="ERROR-CONF-1003" value="Ошибка при сохранении конфигурации в JNDI в связи с ошибками в именовании по причине {0}" />
				
				<entry key="ERROR-DSIG-1001" value="Синтаксис url соединения ''{0}'' с крипто-сервером задан неверно" />
				<entry key="ERROR-DSIG-1002" value="Невозможно подключиться к крипто-серверу ''{0}'' по RMI" />
				<entry key="ERROR-DSIG-1003" value="Произошла ошибка ''{0}'' при обращении к крипто-серверу ''{1}''" />
				<entry key="ERROR-DSIG-1004" value="Произошла ошибка ''{0}'' при проверке ЭЦП" />
				
				<entry key="ERROR-XML-1000" value="Произошла ошибка ''{0}'' при формировании XML из конверта ЭЦП" />
				<entry key="ERROR-XML-1001" value="Произошла ошибка ''{0}'' при обработке структуры XML-документа" />
				<entry key="ERROR-XML-1002" value="Произошла ошибка ввода/вывода ''{0}'' во время обработки XML-документа" />
				<entry key="ERROR-XML-1003" value="Произошла ошибка ''{0}'' во время обработки XML-документа" />
				<entry key="ERROR-XML-1004" value="Во время формирования ответа клиенту на documentId={0} тип сообщения {1} произошла ошибка ''{2}''" />
				<entry key="ERROR-XML-1005" value="Произошла ошибка при сериализации объекта" />
				<entry key="ERROR-XML-1006" value="Произошла ошибка при десериализации объекта" />
				<entry key="ERROR-XML-1007" value="Произошла ошибка при xslt приобразовании документа" />
				<entry key="ERROR-XML-1008" value="Произошла ошибка при извлечении документов из ED_Container: {0}" />
				
				<entry key="ERROR-SEND-1000" value="Произошла ошибка при отправке сообщения. Причина: {0}" />
				
				<entry key="ERROR-SEARCH-1000" value="Не найден подходящий тип поиска документов" />
				<entry key="ERROR-SEARCH-1001" value="Ошибка при построении ejbql-выражения" />
				<entry key="ERROR-SEARCH-1002" value="Ошибка при построении sql-выражения" />
				
				<entry key="ERROR-SETTING-1000" value="Ошибка при извлечении настройки сервера" />
				
				<entry key="ERROR-TEST-MESSAGE-WITH-ONE-PARAM" value="Message with one param {0}" />
				
				<!-- User errors -->
				<entry key="ERROR-FORMAT-1001" value="Формат XML-данных не валиден" />
				<entry key="ERROR-FORMAT-1002" value="Сообщение должно быть завернуто в конверт" />
				<entry key="ERROR-FORMAT-1003" value="Документ должен быть подписан" />
				<entry key="ERROR-FORMAT-1004" value="Сообщение с неизвестным типом ''{0}''" />
				<entry key="ERROR-FORMAT-1005" value="Вид технологического документа не соответствует коду сообщения" />
				
				<entry key="ERROR-ACCESS-1001" value="Клиент с идентификатором ''{0}'' не зарегистрирован" />
				<entry key="ERROR-ACCESS-1002" value="Отказано в доступе к документу" />
				<entry key="ERROR-ACCESS-1003" value="Отсутствует разрешение на доступ к документам вида ''{0}''" />
				<entry key="ERROR-ACCESS-1004" value="Отсутствует разрешение на размещение документов вида ''{0}''" />
				<entry key="ERROR-ACCESS-1005" value="Доступ клиента с указанным идентификатором заблокирован" />
				<entry key="ERROR-ACCESS-1006" value="Целостность документа нарушена, в предоставлении документа отказано" />
				
				<entry key="ERROR-ARCHIVE-1001" value="Ошибки размещения на хранение отдельных документов" />
				<entry key="ERROR-ARCHIVE-1002" value="Ошибка формирования представлеиня документа" />
				<entry key="ERROR-ARCHIVE-1003" value="Ошибка при извлечении из документа значения реквизита - несоответствие типа значения. Идентификатор реквизита: ''{0}''; тип значения реквизита: ''{1}''; описание реквизита: ''{2}''" />
				<entry key="ERROR-ARCHIVE-1004" value="Новая версия документа с указанным архивным идентификатором уже существует в архиве" />
				<entry key="ERROR-ARCHIVE-1006" value="Реквизит с указанным идентификатором ''{0}'' не зарегистрирован" />
				<entry key="ERROR-ARCHIVE-1007" value="Ошибка при извлечении из документа значения реквизита. Идентификатор реквизита: ''{0}''; тип значения реквизита: ''{1}''; описание реквизита: ''{2}''" />
				<entry key="ERROR-ARCHIVE-1008" value="Указанные параметры не применимы к указанному реквизиту" />
				<entry key="ERROR-ARCHIVE-1010" value="Указанные параметры не применимы к указанному фильтру на ''{0}''. Тип значения: ''{1}''" />
				<entry key="ERROR-ARCHIVE-1011" value="Прикладной идентификатор пакета документов не соответствует требуемому формату (номеру ДТ)" />
				<entry key="ERROR-ARCHIVE-1012" value="Прикладной идентификатор пакета документов (номер ДТ) неверен (не соответствует справочнику КТАМ)" />
				<entry key="ERROR-ARCHIVE-1013" value="Задан вид документа ''{0}'', но не определены параметры фильтра на реквизит документа." />
				<entry key="ERROR-ARCHIVE-1101" value="Пакет с указанным архивным идентификатором ''{0}'' отсутствует в архиве" />
				<entry key="ERROR-ARCHIVE-1102" value="Пакет с указанным прикладным идентификатором ''{0}'' отсутствует в архиве" />
				<entry key="ERROR-ARCHIVE-1103" value="Документ с указанным архивным идентификатором ''{0}'' отсутствует в архиве" />
				<entry key="ERROR-ARCHIVE-1104" value="Пакет с указанным идентификатором ДТ ''{0}'' отсутствует в архиве" />
				<entry key="ERROR-ARCHIVE-1105" value="Вид документа ''{0}'' не зарегистрирован" />
				<entry key="ERROR-ARCHIVE-1106" value="Указанный формат представления ''{0}'' для данного вида документов ''{1}'' не зарегистрирован" />
				<entry key="ERROR-ARCHIVE-1107" value="Версия вида документа ''{0}'' не зарегистрирована" />
				<entry key="ERROR-ARCHIVE-1108" value="Для  пакета,  имеющего тип ''{0}'', не заполнен номер ДТ" />
				<entry key="ERROR-ARCHIVE-1109" value="Заполнение номера ДТ не требуется" />
				<entry key="ERROR-ARCHIVE-1110" value="Указанный номер ДТ ''{0}'' не соответствует архивному идентификатору пакета." />
				<entry key="ERROR-ARCHIVE-1111" value="Пакет с указанным номером ДТ ''{0}'' уже существует." />
				<entry key="ERROR-ARCHIVE-1201" value="Количество найденных документов, равное {0}, слишком велико. Максимально допустимое количество равно {1}" />
				<entry key="ERROR-ARCHIVE-1300" value="Сообщение с идентификатором ''{0}'' уже обработано" />
				<entry key="ERROR-ARCHIVE-1301" value="Технологический документ с идентификатором ''{0}'' уже обработан" />
				<entry key="ERROR-ARCHIVE-1303" value="Технологический документ с идентификатором ''{0}'' не был обработан" />
				
				<entry key="ERROR-WDSIG-1001" value="Подлинность ЭЦП на технологический документ не подтверждена. {0}" />
				<entry key="ERROR-WDSIG-1002" value="Подлинность ЭЦП на документ не подтверждена. {0}" />
				<entry key="ERROR-WDSIG-1005" value="Документ архива не подписан ЭЦП" />
				
				<entry key="ERROR-DATABASE-1000" value="Ошибка работы с базой данных" />
			</map>
		</property>
	</bean>
	
	<bean id="messageResolver" class="ru.acs.fts.aud.router.processing.helpers.MessageResolver" >
		<property name="errorMessageSource" ref="errorMessageSource" />
		<property name="logMessageSource" ref="logMessageSource" />
	</bean>
	
</beans>